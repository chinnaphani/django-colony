{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Dashboard{% endblock %}</title>

  <!-- Bootstrap 5 & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body { overflow-x:hidden; }
    /* fixed sidebar */
    #sidebar { width:240px; position:fixed; top:0; left:0; height:100vh;
               background:#212529; color:#fff; }
    #sidebar a { color:#adb5bd; text-decoration:none; display:block; padding:.75rem 1rem; }
    #sidebar a:hover, #sidebar a.active { background:#0d6efd; color:#fff; }
    #content { margin-left:240px; padding:1rem 2rem; }
  </style>
  {% block extra_css %}{% endblock %}
</head>
<body class="hold-transition sidebar-mini layout-fixed" >
<!-- ─────────── Top Navbar ─────────── -->
<nav class="navbar navbar-dark bg-dark px-3" style="margin-left:240px;">
  <span class="navbar-text text-white me-auto">
    Logged in as <strong>{{ request.user.get_full_name|default:request.user.username }}</strong>
  </span>

  <form action="{% url 'logout' %}" method="post" class="m-0">
    {% csrf_token %}
    <button class="btn btn-outline-light btn-sm" type="submit">
      <i class="fa fa-sign-out-alt me-1"></i> Logout
    </button>
  </form>
</nav>
<!-- Sidebar -->
<div id="sidebar">
  <h5 class="text-center py-3 mb-0">Colony Admin</h5>
  <a href="{% url 'dash-home' %}" class="{% if request.path == '/dashboard/' %}active{% endif %}">
     <i class="fa fa-home me-2"></i>Home
  </a>
  <a href="{% url 'payments-dashboard' %}">
     <i class="fa fa-wallet me-2"></i>Payments
  </a>
  <a href="{% url 'region-list' %}">
     <i class="fa fa-map me-2"></i>Regions / Houses
  </a>
  <!--a href="/admin/"><i class="fa fa-cog me-2"></i>Django Admin</a>-->
    <a href="{% url 'advance-payment' %}">Advance Payment Entry</a>
</div>

<!-- Main Content -->
<div id="content">
  {% block content %}{% endblock %}
</div>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
{% block extra_js %}{% endblock %}
</body>
</html>
